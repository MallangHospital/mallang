<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>이용약관 동의</title>
  <link rel="stylesheet" href="common_assets/globalstyle.css">
  <link rel="stylesheet" href="common_assets/navbar.css"> <!-- 네비게이션 바 css -->
  <link rel="stylesheet" href="common_assets/footer.css"> <!-- 푸터 css -->
  <link rel="stylesheet" href="join_agree.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
  <script src="common_assets/jquery-3.7.1.min.js"></script>
  <script src="common_assets/script.js"></script>
</head>
<body>
  <div class="wrap">
    <div id="navbar"></div> <!-- 네비게이션 바 -->
    <div class="section"> <!-- section 사진 -->
      <img src="assets/section_join.png" alt="section_img">
    </div>

    <div class="terms_section">
      <p class="title">이용약관 동의</p>
      <p class="border"></p>
      <div class="terms_container">
        <!-- 전체 동의 -->
        <div class="check_terms">
          <input type="checkbox" id="chk_all" onclick="toggleAllCheckboxes(this)">
          <label for="chk_all">전체 동의하기</label>
        </div>
        <br>
        <ul class="terms_list">
          <!-- 첫 번째 약관 -->
          <li class="terms_item">
            <p class="terms_title"><span style="font-weight: bold">[필수]</span> 말랑병원 이용약관</p>
            <div style="overflow:auto; height:150px;" class="usemenual">
              <h2>말랑병원 회원가입 약관</h2>
              <h3>제1조 목적</h3>
              <p>본 말랑병원(이하 ‘병원’)의 회원가입 약관은 이용자가 병원에서 제공하는 인터넷 관련 서비스(이하 ‘서비스’)를 이용함에 있어 회원과 병원의 권리, 의무 및 책임사항을 규정함을 목적으로 합니다.</p>
              <h3>제2조 회원가입</h3>
              <p>① 회원이 되고자 하는 자는 병원이 정한 가입 양식에 따라 회원정보를 기입하고 ‘가입하기’ 버튼을 누르는 방법으로 회원가입을 신청합니다.<br>
                ② 회원가입 계약의 성립시기는 병원의 승낙이 가입 신청자에게 도달한 시점으로 합니다.<br>
                ③ 회원은 회원정보에 변경이 발생한 경우 즉시 변경사항을 병원에 알리고 수정해야 합니다.</p>
              <h3>제3조 서비스의 제공</h3>
              <p>병원은 회원에게 다음과 같은 서비스를 제공합니다.</p>
              <ul>
                <li>병원 소식 메일 서비스</li>
                <li>병원 온라인 상담실 서비스</li>
                <li>병원 회원을 위한 콘텐츠 서비스</li>
                <li>병원이 제공하는 기타 제휴 서비스</li>
              </ul>
              <h3>제4조 서비스의 중단</h3>
              <p>서비스 중단 사유 및 절차는 병원이 결정합니다. 통지 후 중단 가능합니다.</p>
              <h3>제5조 회원탈퇴 및 자격상실</h3>
              <p>회원 자격 상실 조건은 약관 위반, 허위 정보 제공 등입니다.</p>
              <h3>제6조 개인정보의 보호</h3>
              <p>개인정보 처리 방침은 별도 페이지에 설명됩니다.</p>
            </div>
            <input type="checkbox" class="terms_checkbox" id="termsService1">
            <label for="termsService1">동의합니다.</label>
          </li>
          <br>
          <!-- 두 번째 약관 -->
          <li class="terms_item">
            <p class="terms_title"><span style="font-weight: bold">[필수]</span> 개인정보 수집 및 이용</p>
            <div style="overflow:auto; height:150px;" class="privacy-policy">
              <h2>말랑병원 개인정보처리방침</h2>
              <h3>1. 수집하는 개인정보</h3>
              <p>병원은 서비스 제공 및 관리 목적의 최소 정보를 수집합니다.</p>
              <h3>2. 개인정보의 이용 목적</h3>
              <p>진료 예약, 고객 관리, 법령 의무 준수 등의 목적입니다.</p>
              <h3>3. 개인정보의 보유 기간</h3>
              <p>보유 기간은 법령에 따르며, 회원 탈퇴 시 삭제됩니다.</p>
              <h3>4. 개인정보의 제공</h3>
              <p>제3자 제공은 법적 요구나 회원 동의에 의해서만 가능합니다.</p>
            </div>
            <input type="checkbox" class="terms_checkbox" id="termsService2">
            <label for="termsService2">동의합니다.</label>
          </li>
        </ul>
        <br>
        <!-- 다음 버튼 -->
        <button type="button" class="next_btn" onclick="validateAgreement()">다음</button>
      </div>
    </div>

    <div id="footer"></div> <!-- 푸터 -->
  </div>

  <script>
    // "전체 동의하기" 체크박스 동작
    function toggleAllCheckboxes(source) {
      const checkboxes = document.querySelectorAll('.terms_checkbox');
      checkboxes.forEach(checkbox => {
        checkbox.checked = source.checked; // 전체 체크 상태를 각 체크박스에 반영
      });
    }

    // 개별 체크박스 상태 변경 시 전체 동의 체크박스 상태 업데이트
    const termsCheckboxes = document.querySelectorAll('.terms_checkbox');
    termsCheckboxes.forEach(checkbox => {
      checkbox.addEventListener('change', () => {
        const allChecked = Array.from(termsCheckboxes).every(cb => cb.checked);
        document.getElementById('chk_all').checked = allChecked;
      });
    });

    // "다음" 버튼 클릭 시 모든 체크박스 확인
    function validateAgreement() {
  const allChecked = Array.from(document.querySelectorAll('.terms_checkbox')).every(cb => cb.checked);
  if (!allChecked) {
    alert("모든 필수 항목에 동의하셔야 합니다.");
    return;
  }

  // 약관 동의 상태를 localStorage에 저장
  localStorage.setItem('agreeToTerms', true);

  // 다음 페이지로 이동
  location.href = 'join.html';
}
  </script>
</body>
</html>